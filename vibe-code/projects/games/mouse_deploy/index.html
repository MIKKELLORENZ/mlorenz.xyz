<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="description" content="Mouse Deploy - Deploy autonomous mice in a strategic race to the center of the maze. Compete against AI with abilities, sabotage, and betting." />
  <meta name="keywords" content="maze game, strategy game, autonomous agents, AI game, browser game, puzzle game, mouse game" />
  <meta name="author" content="mlorenz.xyz" />
  <meta name="theme-color" content="#667eea" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Mouse Deploy" />
  
  <!-- Open Graph / Social Media -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Mouse Deploy - Strategic Maze Racing Game" />
  <meta property="og:description" content="Deploy autonomous mice in a strategic race to the center of the maze. Use abilities, sabotage, and betting to outsmart the AI!" />
  <meta property="og:image" content="https://mlorenz.xyz/vibe-code/projects/games/mouse_deploy/preview.png" />
  <meta property="og:url" content="https://mlorenz.xyz/vibe-code/projects/games/mouse_deploy/" />
  <meta property="og:site_name" content="Mouse Deploy" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Mouse Deploy" />
  <meta name="twitter:description" content="Strategic maze racing with autonomous mice. Beat the AI!" />
  <meta name="twitter:image" content="https://mlorenz.xyz/vibe-code/projects/games/mouse_deploy/preview.png" />
  
  <!-- Performance hints -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://mlorenz.xyz/vibe-code/projects/games/mouse_deploy/" />
  
  <title>Mouse Deploy - Strategic Maze Racing Game</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ­</text></svg>" />
  <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ­</text></svg>" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app" id="app">
    <!-- Difficulty Selection Screen -->
    <div class="difficulty-screen active" id="difficultyScreen">
      <div class="difficulty-screen__inner">
        <h1 class="difficulty-screen__title">Mouse Deploy</h1>
        <p class="difficulty-screen__subtitle">Deploy autonomous mice. Race to the center of the maze!</p>
        
        <button class="btn btn--secondary" id="howToPlayBtn" style="margin-bottom: 20px;">How to Play</button>

        <!-- Loading Section -->
        <div class="loading-section" id="loadingSection">
          <p class="loading-text">Loading assets...</p>
          <div class="loading-bar">
            <div class="loading-bar__fill" id="loadingBarFill"></div>
          </div>
          <p class="loading-percent" id="loadingPercent">0%</p>
        </div>
        
        <!-- Game Setup Section (hidden until loaded) -->
        <div class="setup-section" id="setupSection" style="display: none;">
          <p class="difficulty-screen__hint">ğŸ’¡ Click mice to select them â€¢ Use abilities to help them navigate â€¢ Heatmap shows explored areas</p>
          <p class="difficulty-screen__prompt">Select AI Difficulty</p>
          <div class="difficulty-cards">
            <button class="difficulty-card" data-difficulty="easy">
              <div class="difficulty-card__icon">ğŸ­</div>
              <div class="difficulty-card__title">Easy</div>
              <div class="difficulty-card__desc">AI deploys randomly and slowly. Perfect for learning.</div>
            </button>
            <button class="difficulty-card" data-difficulty="medium">
              <div class="difficulty-card__icon">ğŸ</div>
              <div class="difficulty-card__title">Medium</div>
              <div class="difficulty-card__desc">AI reacts to your moves and uses smart algorithms.</div>
            </button>
            <button class="difficulty-card" data-difficulty="hard">
              <div class="difficulty-card__icon">ğŸ¦”</div>
              <div class="difficulty-card__title">Hard</div>
              <div class="difficulty-card__desc">AI optimizes everything. Destroys stuck mice. Good luck!</div>
            </button>
          </div>
          
          <!-- Rounds Selector + Start Button -->
          <div class="rounds-selector">
            <div class="rounds-selector__row">
              <div class="rounds-selector__left">
                <p class="rounds-selector__title">Number of Rounds</p>
                <div class="rounds-options">
                  <label class="rounds-option">
                    <input type="radio" name="rounds" value="3" checked />
                    <span class="rounds-option__label">3</span>
                  </label>
                  <label class="rounds-option">
                    <input type="radio" name="rounds" value="5" />
                    <span class="rounds-option__label">5</span>
                  </label>
                  <label class="rounds-option">
                    <input type="radio" name="rounds" value="10" />
                    <span class="rounds-option__label">10</span>
                  </label>
                </div>
              </div>
              <button class="start-btn" id="startBtn" disabled>START</button>
            </div>
          </div>
          
          <!-- Personal Record -->
          <div class="personal-record" id="personalRecord">
            <span class="personal-record__label">ğŸ† Personal Best:</span>
            <span class="personal-record__value" id="personalRecordValue">--</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Game Screen -->
    <main class="game-screen" id="gameScreen" role="application" aria-label="Mouse Deploy Game">
      <div class="game-layout">
        <!-- Left Stats Panel (User) -->
        <aside class="stats-panel stats-panel--user" aria-label="Your Statistics">
          <div class="stats-panel__header">
            <div class="stats-panel__team">You</div>
            <div class="stats-panel__breakdown">
              <div class="breakdown-row breakdown-row--single">
                <span class="breakdown-item">Base: <span id="hudUserBase">1000</span></span>
                <span class="breakdown-item spent-value">Spent: <span id="hudUserSpent">-0</span></span>
                <span class="breakdown-item explore-value">Explore: <span id="hudUserExplore">+0</span></span>
                <span class="breakdown-item breakdown-total-inline">Now: <span id="hudUserScore">1000</span></span>
              </div>
            </div>
            <div class="stats-panel__total" id="hudUserTotal">Total: 1000</div>
          </div>

          <div class="mouse-list" id="mouseList"></div>
        </aside>

        <!-- Center: Canvas -->
        <div class="game-center">
          <div class="stage">
            <canvas id="gameCanvas" width="900" height="900" role="img" aria-label="Game maze where mice race to the center"></canvas>
            <div class="countdown" id="countdown">3</div>
            <div class="stage-timer">
              <div class="stage-timer__progress" id="timerProgress"></div>
              <div class="stage-timer__shine"></div>
              <span class="stage-timer__round" id="hudRound">Round 1 / 3</span>
              <span class="stage-timer__time" id="hudTime">3:00</span>
            </div>
            <div class="deploy-reminder" id="deployReminder">
              <span class="deploy-reminder__text">ğŸ­ Hurry! Deploy a Mouse!</span>
            </div>
            <div class="decoy-guide" id="decoyGuide">
              <span class="decoy-guide__text">ğŸ§€ Click to place decoy cheese!</span>
            </div>
          </div>
        </div>

        <!-- Right Stats Panel (Computer) -->
        <aside class="stats-panel stats-panel--ai" aria-label="Computer Statistics">
          <div class="stats-panel__header">
            <div class="stats-panel__team">Computer</div>
            <div class="stats-panel__breakdown">
              <div class="breakdown-row breakdown-row--single">
                <span class="breakdown-item">Base: <span id="hudAiBase">1000</span></span>
                <span class="breakdown-item spent-value">Spent: <span id="hudAiSpent">-0</span></span>
                <span class="breakdown-item explore-value">Explore: <span id="hudAiExplore">+0</span></span>
                <span class="breakdown-item breakdown-total-inline">Now: <span id="hudAiScore">1000</span></span>
              </div>
            </div>
            <div class="stats-panel__total" id="hudAiTotal">Total: 1000</div>
          </div>

          <div class="mouse-list mouse-list--ai" id="aiMouseList"></div>
        </aside>
      </div>

      <!-- Bottom Controls -->
      <div class="controls-bar">
        <div class="controls-section">
          <div class="controls-section__title">Deploy (5s cooldown)</div>
          <select id="algoSelect" class="field__control">
            <option value="wanderer">ğŸ² Wanderer - 40 pts</option>
            <option value="wallhugger">ğŸ§± Wall Hugger - 40 pts</option>
            <option value="sniffer">ğŸ• Sniffer - 40 pts</option>
            <option value="explorer">ğŸ” Explorer - 40 pts</option>
            <option value="tremaux" selected>ğŸ“œ Cartographer - 40 pts</option>
            <option value="wiseFragile">ğŸ¦‰ Wise - 100 pts</option>
          </select>
          <button id="deployBtn" class="btn btn--primary" type="button">ğŸ­ Deploy</button>
          <button id="manualMouseBtn" class="btn btn--blue" type="button" disabled title="Take manual control of next deployed mouse (unlocks at 1:30)">ğŸ® Manual</button>
        </div>

        <div class="controls-section abilities-card" id="abilitiesCard" style="opacity:0.5; pointer-events:none">
          <div class="controls-section__title">Actions</div>
          <button id="commandPingBtn" class="btn" type="button" disabled title="Click maze to nudge selected mouse toward a cell">ğŸ“ Ping -10</button>
          <button id="speedBoostBtn" class="btn" type="button" disabled title="Boost selected mouse speed by 10%">âš¡ Speed -35</button>
          <button id="doubleDownBtn" class="btn btn--bet" type="button" disabled title="Bet on selected mouse: if it wins, get +150 pts">ğŸ° Bet -50</button>
          <button id="destroyBtn" class="btn btn--danger" type="button" disabled title="Destroy mouse for partial refund">ğŸ’€ Destroy</button>
        </div>

        <div class="controls-section" id="sabotageCard">
          <div class="controls-section__title">Sabotage</div>
          <button id="bombBtn" class="btn btn--sabotage" type="button" title="Click maze to place a bomb (1s fuse, kills mice in blast)">ğŸ’£ Bomb -60</button>
          <button id="gluePatchBtn" class="btn btn--sabotage" type="button" title="Click maze to place glue patch (slows to 40%)">ğŸ«  Glue -35</button>
          <button id="decoyCheeseBtn" class="btn btn--sabotage" type="button" title="Click maze to place decoy cheese">ğŸ§€ Decoy -30</button>
          <button id="catDeployBtn" class="btn btn--sabotage" type="button" disabled title="After 35s, deploy a cat from enemy start">ğŸˆ Cat -120</button>
          <button id="laserFenceBtn" class="btn btn--sabotage" type="button" title="Deploy a 5x5 laser fence that blocks all movement for 10s">âš¡ Fence -100</button>
        </div>

        <div class="controls-section">
          <div class="controls-section__title">View</div>
          <button id="toggleHeatmapBtn" class="btn btn--toggle" type="button">ğŸ—ºï¸ Heatmap</button>
          <button id="toggleZoomBtn" class="btn btn--toggle" type="button" title="Auto-zoom on close finishes">ğŸ” Zoom: ON</button>
        </div>

        <div class="controls-section controls-section--info">
          <div class="message" id="message"></div>
          <div class="micro" id="deployMeta"></div>
        </div>
      </div>
    </main>

    <!-- Victory/Loss Overlay -->
    <div class="overlay" id="overlay">
      <div class="overlay__card">
        <div class="overlay__title" id="overlayTitle">Victory!</div>
        <div class="overlay__text" id="overlayText">You won with 5000 points!</div>
        <button class="btn btn--primary overlay__btn" id="overlayBtn">Play Again</button>
      </div>
    </div>

    <!-- Subround Results Overlay -->
    <div class="overlay overlay--round" id="roundOverlay">
      <div class="overlay__card overlay__card--round">
        <div class="overlay__title" id="roundOverlayTitle">Round Results</div>
        <div class="overlay__text" id="roundOverlayText"></div>
        <button class="btn btn--primary overlay__btn" id="roundOverlayBtn">Next Round</button>
      </div>
    </div>
    
    <!-- New Record Name Entry Overlay -->
    <div class="overlay" id="recordOverlay" style="display: none;">
      <div class="overlay__card">
        <div class="overlay__title">ğŸ† NEW RECORD!</div>
        <div class="overlay__text" id="recordText">You set a new personal best!</div>
        <input type="text" class="record-input" id="recordNameInput" placeholder="Enter your name" maxlength="20" />
        <button class="btn btn--primary overlay__btn" id="recordSaveBtn">Save Record</button>
      </div>
    </div>
    
    <!-- Bet Modal -->
    <div class="overlay bet-overlay" id="betOverlay">
      <div class="overlay__card bet-modal">
        <div class="overlay__title">ğŸ° Place Your Bet</div>
        <div class="overlay__text">Choose your risk level:</div>
        <div class="bet-options">
          <button class="bet-option bet-option--low" data-bet="low">
            <div class="bet-option__risk">ğŸŸ¢ Safe Bet</div>
            <div class="bet-option__cost">Cost: 25 pts</div>
            <div class="bet-option__reward">Win: +60 pts</div>
          </button>
          <button class="bet-option bet-option--med" data-bet="medium">
            <div class="bet-option__risk">ğŸŸ¡ Risky Bet</div>
            <div class="bet-option__cost">Cost: 50 pts</div>
            <div class="bet-option__reward">Win: +150 pts</div>
          </button>
          <button class="bet-option bet-option--high" data-bet="high">
            <div class="bet-option__risk">ğŸ”´ All-In!</div>
            <div class="bet-option__cost">Cost: 100 pts</div>
            <div class="bet-option__reward">Win: +350 pts</div>
          </button>
        </div>
        <button class="btn overlay__btn" id="betCancelBtn">Cancel</button>
      </div>
    </div>

    <!-- How to Play Modal -->
    <div class="overlay" id="howToPlayOverlay" style="display: none;">
      <div class="overlay__card overlay__card--wide">
        <div class="overlay__title">How to Play</div>
        <div class="overlay__content" style="text-align: left; max-height: 60vh; overflow-y: auto; margin-bottom: 20px;">
          <h3>ğŸ­ Objective</h3>
          <p>Deploy mice to race to the center of the maze. The first mouse to reach the goal wins the round for its team.</p>
          
          <h3>ğŸ® Controls</h3>
          <ul>
            <li><strong>Deploy:</strong> Choose an algorithm and click "Deploy" to spawn a mouse.</li>
            <li><strong>Abilities:</strong> Click on your mouse to select it, then use abilities like Speed Boost or Ping.</li>
            <li><strong>Sabotage:</strong> Use "Blast" to break walls or "Decoy" to distract enemy mice.</li>
            <li><strong>Manual Control:</strong> Unlocks at 1:30 remaining. Take direct control of a mouse!</li>
          </ul>

          <h3>ğŸ§  Strategy</h3>
          <ul>
            <li><strong>Fog of War:</strong> You can only see what your mice see. Explore to find the path.</li>
            <li><strong>Betting:</strong> Confident in a mouse? Bet on it to earn extra points.</li>
            <li><strong>Desperation:</strong> If you're losing badly, you might get a free "Desperation Mouse" with boosted stats.</li>
          </ul>
        </div>
        <button class="btn btn--primary overlay__btn" id="howToPlayCloseBtn">Got it!</button>
      </div>
    </div>
  </div>

  <script defer src="game.js"></script>
</body>
</html>
